{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///autoFitColumns.min.js","webpack:///webpack/bootstrap f8b9824c89dec5bbe7eb","webpack:///./src/index.ts","webpack:///external \"angular\"","webpack:///./src/UiGridAutoFitColumnsService.ts","webpack:///./~/lodash/object/get.js","webpack:///./~/lodash/internal/baseGet.js","webpack:///./~/lodash/internal/toObject.js","webpack:///./~/lodash/lang/isObject.js","webpack:///./~/lodash/internal/toPath.js","webpack:///./~/lodash/internal/baseToString.js","webpack:///./~/lodash/lang/isArray.js","webpack:///./~/lodash/internal/getNative.js","webpack:///./~/lodash/lang/isNative.js","webpack:///./~/lodash/lang/isFunction.js","webpack:///./~/lodash/internal/isObjectLike.js","webpack:///./~/lodash/internal/isLength.js","webpack:///./src/Measurer.ts","webpack:///./src/UiGridMetrics.ts","webpack:///./src/UiGridAutoFitColumnsDirective.ts"],"names":["root","factory","exports","module","require","define","amd","a","i","this","__WEBPACK_EXTERNAL_MODULE_1__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","angular","UiGridAutoFitColumnsService_1","UiGridAutoFitColumnsDirective_1","Object","defineProperty","value","default","service","UiGridAutoFitColumnsService","directive","UiGridAutoFitColumnsDirective","name","get","Measurer_1","UiGridMetrics_1","$q","$filter","gridMetrics","$inject","prototype","initializeGrid","grid","registerColumnBuilder","colAutoFitColumnBuilder","bind","registerColumnsProcessor","columnsProcessor","defaultGridOptions","options","gridOptions","enableColumnAutoFit","getFilterIfExists","filterName","e","getFilteredValue","cellFilter","filter","re","matches","exec","colDef","col","promises","undefined","isResizable","all","hasOwnProperty","renderedColumnsToProcess","rows","_this","length","optimalWidths","forEach","column","columnKey_1","field","extraWidth_1","extraWidth","measureRoundedTextWidth","displayName","getHeaderFont","getHeaderButtonsWidth","row","cellText","entity","currentCellWidth","getCellFont","optimalCellWidth","stretch","minWidth","getPadding","getBorder","width","updateColumnDef","object","path","defaultValue","result","baseGet","toPath","pathKey","toObject","index","isObject","type","isArray","baseToString","replace","rePropName","match","number","quote","string","push","reEscapeChar","getNative","isLength","isObjectLike","arrayTag","objectProto","objToString","toString","nativeIsArray","Array","key","isNative","isFunction","reIsNative","test","fnToString","reIsHostCtor","Function","RegExp","funcTag","MAX_SAFE_INTEGER","Measurer","measureTextWidth","text","font","canvas","document","createElement","context","getContext","metrics","measureText","Math","floor","UiGridMetrics","headerFont","header","querySelector","Error","headerStyle","getComputedStyle","getFontStringFrom","cellFont","cell","element","className","style","cssFloat","body","append","cellStyle_1","remove","cellStyle","padding","_a","paddingLeft","paddingRight","parseInt","border","borderRightWidth","HEADER_BUTTONS_WIDTH","fontStyle","fontVariant","fontWeight","fontSize","fontFamily","uiGridAutoFitColumnsService","priority","scope","compile","pre","$scope","$elm","$attrs","uiGridCtrl"],"mappings":"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","file":"autoFitColumns.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"angular\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"angular\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"angular\")) : factory(root[\"angular\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"angular\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"angular\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"angular\")) : factory(root[\"angular\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar angular = __webpack_require__(1);\r\n\tvar UiGridAutoFitColumnsService_1 = __webpack_require__(2);\r\n\tvar UiGridAutoFitColumnsDirective_1 = __webpack_require__(17);\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\texports.default = angular.module('ui.grid.autoFitColumns', ['ui.grid'])\r\n\t    .service('uiGridAutoFitColumnsService', UiGridAutoFitColumnsService_1.UiGridAutoFitColumnsService)\r\n\t    .directive('uiGridAutoFitColumns', UiGridAutoFitColumnsDirective_1.UiGridAutoFitColumnsDirective)\r\n\t    .name;\r\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\r\n\tvar get = __webpack_require__(3);\r\n\tvar Measurer_1 = __webpack_require__(15);\r\n\tvar UiGridMetrics_1 = __webpack_require__(16);\r\n\tvar UiGridAutoFitColumnsService = (function () {\r\n\t    /*@ngInject*/\n\t    UiGridAutoFitColumnsService.$inject = [\"$q\", \"$filter\"];\r\n\t    function UiGridAutoFitColumnsService($q, $filter) {\r\n\t        this.$q = $q;\r\n\t        this.$filter = $filter;\r\n\t        this.gridMetrics = new UiGridMetrics_1.default();\r\n\t    }\r\n\t    UiGridAutoFitColumnsService.prototype.initializeGrid = function (grid) {\r\n\t        grid.registerColumnBuilder(this.colAutoFitColumnBuilder.bind(this));\r\n\t        grid.registerColumnsProcessor(this.columnsProcessor.bind(this), 60);\r\n\t        UiGridAutoFitColumnsService.defaultGridOptions(grid.options);\r\n\t    };\r\n\t    UiGridAutoFitColumnsService.defaultGridOptions = function (gridOptions) {\r\n\t        // true by default\r\n\t        gridOptions.enableColumnAutoFit = gridOptions.enableColumnAutoFit !== false;\r\n\t    };\r\n\t    UiGridAutoFitColumnsService.prototype.getFilterIfExists = function (filterName) {\r\n\t        try {\r\n\t            return this.$filter(filterName);\r\n\t        }\r\n\t        catch (e) {\r\n\t            return null;\r\n\t        }\r\n\t    };\r\n\t    UiGridAutoFitColumnsService.prototype.getFilteredValue = function (value, cellFilter) {\r\n\t        if (cellFilter && cellFilter !== '') {\r\n\t            var filter = this.getFilterIfExists(cellFilter);\r\n\t            if (filter) {\r\n\t                value = filter(value);\r\n\t            }\r\n\t            else {\r\n\t                // https://regex101.com/r/rC5eR5/2\r\n\t                var re = /([^:]*):([^:]*):?([\\s\\S]+)?/;\r\n\t                var matches = void 0;\r\n\t                if ((matches = re.exec(cellFilter)) !== null) {\r\n\t                    value = this.$filter(matches[1])(value, matches[2], matches[3]);\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t        return value;\r\n\t    };\r\n\t    UiGridAutoFitColumnsService.prototype.colAutoFitColumnBuilder = function (colDef, col, gridOptions) {\r\n\t        var promises = [];\r\n\t        if (colDef.enableColumnAutoFit === undefined) {\r\n\t            //TODO: make it as col.isResizable()\r\n\t            if (UiGridAutoFitColumnsService.isResizable(colDef)) {\r\n\t                colDef.enableColumnAutoFit = gridOptions.enableColumnAutoFit;\r\n\t            }\r\n\t            else {\r\n\t                colDef.enableColumnAutoFit = false;\r\n\t            }\r\n\t        }\r\n\t        return this.$q.all(promises);\r\n\t    };\r\n\t    UiGridAutoFitColumnsService.isResizable = function (colDef) {\r\n\t        return !colDef.hasOwnProperty('width');\r\n\t    };\r\n\t    UiGridAutoFitColumnsService.prototype.columnsProcessor = function (renderedColumnsToProcess, rows) {\r\n\t        var _this = this;\r\n\t        if (!rows.length) {\r\n\t            return renderedColumnsToProcess;\r\n\t        }\r\n\t        // TODO: respect existing colDef options\r\n\t        // if (col.colDef.enableColumnAutoFitting === false) return;\r\n\t        var optimalWidths = {};\r\n\t        renderedColumnsToProcess.forEach(function (column) {\r\n\t            if (column.colDef.enableColumnAutoFit) {\r\n\t                var columnKey_1 = column.field || column.name;\r\n\t                // Extra width to consider besides the text, such as from an image\r\n\t                var extraWidth_1 = column.colDef.extraWidth || 0;\r\n\t                optimalWidths[columnKey_1] = Measurer_1.default.measureRoundedTextWidth(column.displayName, _this.gridMetrics.getHeaderFont()) + _this.gridMetrics.getHeaderButtonsWidth();\r\n\t                rows.forEach(function (row) {\r\n\t                    var cellText = get(row.entity, columnKey_1);\r\n\t                    if (!!column.colDef.cellFilter) {\r\n\t                        cellText = _this.getFilteredValue(cellText, column.colDef.cellFilter);\r\n\t                    }\r\n\t                    var currentCellWidth = Measurer_1.default.measureRoundedTextWidth(cellText, _this.gridMetrics.getCellFont()) + extraWidth_1;\r\n\t                    var optimalCellWidth = currentCellWidth > 300 ? 300 : currentCellWidth;\r\n\t                    if (optimalCellWidth > optimalWidths[columnKey_1]) {\r\n\t                        optimalWidths[columnKey_1] = optimalCellWidth;\r\n\t                    }\r\n\t                });\r\n\t                if (column.colDef.stretch) {\r\n\t                    // If we want a column to stretch so that the grid can fill its parent container\r\n\t                    column.colDef.minWidth = optimalWidths[columnKey_1] + _this.gridMetrics.getPadding() + _this.gridMetrics.getBorder();\r\n\t                    column.colDef.width = '*';\r\n\t                }\r\n\t                else {\r\n\t                    column.colDef.width = optimalWidths[columnKey_1] + _this.gridMetrics.getPadding() + _this.gridMetrics.getBorder();\r\n\t                }\r\n\t                column.updateColumnDef(column.colDef, false);\r\n\t            }\r\n\t        });\r\n\t        return renderedColumnsToProcess;\r\n\t    };\r\n\t    return UiGridAutoFitColumnsService;\r\n\t}());\r\n\texports.UiGridAutoFitColumnsService = UiGridAutoFitColumnsService;\r\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar baseGet = __webpack_require__(4),\n\t    toPath = __webpack_require__(7);\n\n\t/**\n\t * Gets the property value at `path` of `object`. If the resolved value is\n\t * `undefined` the `defaultValue` is used in its place.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @category Object\n\t * @param {Object} object The object to query.\n\t * @param {Array|string} path The path of the property to get.\n\t * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n\t * @returns {*} Returns the resolved value.\n\t * @example\n\t *\n\t * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n\t *\n\t * _.get(object, 'a[0].b.c');\n\t * // => 3\n\t *\n\t * _.get(object, ['a', '0', 'b', 'c']);\n\t * // => 3\n\t *\n\t * _.get(object, 'a.b.c', 'default');\n\t * // => 'default'\n\t */\n\tfunction get(object, path, defaultValue) {\n\t  var result = object == null ? undefined : baseGet(object, toPath(path), (path + ''));\n\t  return result === undefined ? defaultValue : result;\n\t}\n\n\tmodule.exports = get;\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar toObject = __webpack_require__(5);\n\n\t/**\n\t * The base implementation of `get` without support for string paths\n\t * and default values.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @param {Array} path The path of the property to get.\n\t * @param {string} [pathKey] The key representation of path.\n\t * @returns {*} Returns the resolved value.\n\t */\n\tfunction baseGet(object, path, pathKey) {\n\t  if (object == null) {\n\t    return;\n\t  }\n\t  if (pathKey !== undefined && pathKey in toObject(object)) {\n\t    path = [pathKey];\n\t  }\n\t  var index = 0,\n\t      length = path.length;\n\n\t  while (object != null && index < length) {\n\t    object = object[path[index++]];\n\t  }\n\t  return (index && index == length) ? object : undefined;\n\t}\n\n\tmodule.exports = baseGet;\n\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar isObject = __webpack_require__(6);\n\n\t/**\n\t * Converts `value` to an object if it's not one.\n\t *\n\t * @private\n\t * @param {*} value The value to process.\n\t * @returns {Object} Returns the object.\n\t */\n\tfunction toObject(value) {\n\t  return isObject(value) ? value : Object(value);\n\t}\n\n\tmodule.exports = toObject;\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n\t * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n\t *\n\t * @static\n\t * @memberOf _\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n\t * @example\n\t *\n\t * _.isObject({});\n\t * // => true\n\t *\n\t * _.isObject([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isObject(1);\n\t * // => false\n\t */\n\tfunction isObject(value) {\n\t  // Avoid a V8 JIT bug in Chrome 19-20.\n\t  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n\t  var type = typeof value;\n\t  return !!value && (type == 'object' || type == 'function');\n\t}\n\n\tmodule.exports = isObject;\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar baseToString = __webpack_require__(8),\n\t    isArray = __webpack_require__(9);\n\n\t/** Used to match property names within property paths. */\n\tvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g;\n\n\t/** Used to match backslashes in property paths. */\n\tvar reEscapeChar = /\\\\(\\\\)?/g;\n\n\t/**\n\t * Converts `value` to property path array if it's not one.\n\t *\n\t * @private\n\t * @param {*} value The value to process.\n\t * @returns {Array} Returns the property path array.\n\t */\n\tfunction toPath(value) {\n\t  if (isArray(value)) {\n\t    return value;\n\t  }\n\t  var result = [];\n\t  baseToString(value).replace(rePropName, function(match, number, quote, string) {\n\t    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n\t  });\n\t  return result;\n\t}\n\n\tmodule.exports = toPath;\n\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Converts `value` to a string if it's not one. An empty string is returned\n\t * for `null` or `undefined` values.\n\t *\n\t * @private\n\t * @param {*} value The value to process.\n\t * @returns {string} Returns the string.\n\t */\n\tfunction baseToString(value) {\n\t  return value == null ? '' : (value + '');\n\t}\n\n\tmodule.exports = baseToString;\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar getNative = __webpack_require__(10),\n\t    isLength = __webpack_require__(14),\n\t    isObjectLike = __webpack_require__(13);\n\n\t/** `Object#toString` result references. */\n\tvar arrayTag = '[object Array]';\n\n\t/** Used for native method references. */\n\tvar objectProto = Object.prototype;\n\n\t/**\n\t * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n\t * of values.\n\t */\n\tvar objToString = objectProto.toString;\n\n\t/* Native method references for those with the same name as other `lodash` methods. */\n\tvar nativeIsArray = getNative(Array, 'isArray');\n\n\t/**\n\t * Checks if `value` is classified as an `Array` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n\t * @example\n\t *\n\t * _.isArray([1, 2, 3]);\n\t * // => true\n\t *\n\t * _.isArray(function() { return arguments; }());\n\t * // => false\n\t */\n\tvar isArray = nativeIsArray || function(value) {\n\t  return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n\t};\n\n\tmodule.exports = isArray;\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar isNative = __webpack_require__(11);\n\n\t/**\n\t * Gets the native function at `key` of `object`.\n\t *\n\t * @private\n\t * @param {Object} object The object to query.\n\t * @param {string} key The key of the method to get.\n\t * @returns {*} Returns the function if it's native, else `undefined`.\n\t */\n\tfunction getNative(object, key) {\n\t  var value = object == null ? undefined : object[key];\n\t  return isNative(value) ? value : undefined;\n\t}\n\n\tmodule.exports = getNative;\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar isFunction = __webpack_require__(12),\n\t    isObjectLike = __webpack_require__(13);\n\n\t/** Used to detect host constructors (Safari > 5). */\n\tvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n\t/** Used for native method references. */\n\tvar objectProto = Object.prototype;\n\n\t/** Used to resolve the decompiled source of functions. */\n\tvar fnToString = Function.prototype.toString;\n\n\t/** Used to check objects for own properties. */\n\tvar hasOwnProperty = objectProto.hasOwnProperty;\n\n\t/** Used to detect if a method is native. */\n\tvar reIsNative = RegExp('^' +\n\t  fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n\t  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n\t);\n\n\t/**\n\t * Checks if `value` is a native function.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n\t * @example\n\t *\n\t * _.isNative(Array.prototype.push);\n\t * // => true\n\t *\n\t * _.isNative(_);\n\t * // => false\n\t */\n\tfunction isNative(value) {\n\t  if (value == null) {\n\t    return false;\n\t  }\n\t  if (isFunction(value)) {\n\t    return reIsNative.test(fnToString.call(value));\n\t  }\n\t  return isObjectLike(value) && reIsHostCtor.test(value);\n\t}\n\n\tmodule.exports = isNative;\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar isObject = __webpack_require__(6);\n\n\t/** `Object#toString` result references. */\n\tvar funcTag = '[object Function]';\n\n\t/** Used for native method references. */\n\tvar objectProto = Object.prototype;\n\n\t/**\n\t * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n\t * of values.\n\t */\n\tvar objToString = objectProto.toString;\n\n\t/**\n\t * Checks if `value` is classified as a `Function` object.\n\t *\n\t * @static\n\t * @memberOf _\n\t * @category Lang\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n\t * @example\n\t *\n\t * _.isFunction(_);\n\t * // => true\n\t *\n\t * _.isFunction(/abc/);\n\t * // => false\n\t */\n\tfunction isFunction(value) {\n\t  // The use of `Object#toString` avoids issues with the `typeof` operator\n\t  // in older versions of Chrome and Safari which return 'function' for regexes\n\t  // and Safari 8 which returns 'object' for typed array constructors.\n\t  return isObject(value) && objToString.call(value) == funcTag;\n\t}\n\n\tmodule.exports = isFunction;\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Checks if `value` is object-like.\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n\t */\n\tfunction isObjectLike(value) {\n\t  return !!value && typeof value == 'object';\n\t}\n\n\tmodule.exports = isObjectLike;\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n\t * of an array-like value.\n\t */\n\tvar MAX_SAFE_INTEGER = 9007199254740991;\n\n\t/**\n\t * Checks if `value` is a valid array-like length.\n\t *\n\t * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n\t *\n\t * @private\n\t * @param {*} value The value to check.\n\t * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n\t */\n\tfunction isLength(value) {\n\t  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n\t}\n\n\tmodule.exports = isLength;\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar Measurer = (function () {\r\n\t    function Measurer() {\r\n\t    }\r\n\t    Measurer.measureTextWidth = function (text, font) {\r\n\t        var canvas = Measurer.canvas || (Measurer.canvas = document.createElement('canvas'));\r\n\t        var context = canvas.getContext('2d');\r\n\t        context.font = font;\r\n\t        var metrics = context.measureText(text);\r\n\t        return metrics.width;\r\n\t    };\r\n\t    Measurer.measureRoundedTextWidth = function (text, font) {\r\n\t        var width = Measurer.measureTextWidth(text, font);\r\n\t        return Math.floor(width) + 1;\r\n\t    };\r\n\t    return Measurer;\r\n\t}());\r\n\texports.Measurer = Measurer;\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\texports.default = Measurer;\r\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\tvar UiGridMetrics = (function () {\r\n\t    function UiGridMetrics() {\r\n\t    }\r\n\t    UiGridMetrics.prototype.getHeaderFont = function () {\r\n\t        if (this.headerFont) {\r\n\t            return this.headerFont;\r\n\t        }\r\n\t        var header = document.querySelector('.ui-grid-header-cell .ui-grid-cell-contents');\r\n\t        if (!header) {\r\n\t            throw new Error('not found: .ui-grid-header-cell .ui-grid-cell-contents');\r\n\t        }\r\n\t        var headerStyle = getComputedStyle(header);\r\n\t        this.headerFont = UiGridMetrics.getFontStringFrom(headerStyle);\r\n\t        return this.headerFont;\r\n\t    };\r\n\t    UiGridMetrics.prototype.getCellFont = function () {\r\n\t        if (this.cellFont) {\r\n\t            return this.cellFont;\r\n\t        }\r\n\t        var cell = document.querySelector('.ui-grid-cell > .ui-grid-cell-contents');\r\n\t        if (!cell) {\r\n\t            var element = document.createElement('div');\r\n\t            element.className = 'ui-grid-cell-contents';\r\n\t            element.style.cssFloat = 'left';\r\n\t            angular.element(document.body).append(element);\r\n\t            var cellStyle_1 = getComputedStyle(element);\r\n\t            this.cellFont = UiGridMetrics.getFontStringFrom(cellStyle_1);\r\n\t            angular.element(element).remove();\r\n\t            return this.cellFont;\r\n\t        }\r\n\t        var cellStyle = getComputedStyle(cell);\r\n\t        this.cellFont = UiGridMetrics.getFontStringFrom(cellStyle);\r\n\t        return this.cellFont;\r\n\t    };\r\n\t    UiGridMetrics.prototype.getPadding = function () {\r\n\t        if (this.padding) {\r\n\t            return this.padding;\r\n\t        }\r\n\t        var header = document.querySelector('.ui-grid-header-cell .ui-grid-cell-contents');\r\n\t        if (!header) {\r\n\t            throw new Error('not found: .ui-grid-header-cell .ui-grid-cell-contents');\r\n\t        }\r\n\t        var _a = getComputedStyle(header), paddingLeft = _a.paddingLeft, paddingRight = _a.paddingRight;\r\n\t        this.padding = parseInt(paddingLeft) + parseInt(paddingRight);\r\n\t        return this.padding;\r\n\t    };\r\n\t    UiGridMetrics.prototype.getBorder = function () {\r\n\t        if (this.border) {\r\n\t            return this.border;\r\n\t        }\r\n\t        var header = document.querySelector('.ui-grid-header-cell');\r\n\t        if (!header) {\r\n\t            throw new Error('not found: .ui-grid-header-cell');\r\n\t        }\r\n\t        var borderRightWidth = getComputedStyle(header).borderRightWidth;\r\n\t        this.border = parseInt(borderRightWidth);\r\n\t        return this.border;\r\n\t    };\r\n\t    UiGridMetrics.prototype.getHeaderButtonsWidth = function () {\r\n\t        // TODO: lets be more precise\r\n\t        var HEADER_BUTTONS_WIDTH = 25;\r\n\t        return HEADER_BUTTONS_WIDTH;\r\n\t    };\r\n\t    UiGridMetrics.getFontStringFrom = function (_a) {\r\n\t        var fontStyle = _a.fontStyle, fontVariant = _a.fontVariant, fontWeight = _a.fontWeight, fontSize = _a.fontSize, fontFamily = _a.fontFamily;\r\n\t        // in FF cssStyle.font may be '' so we need to collect it manually\r\n\t        // font: [font-style||font-variant||font-weight] font-size [/line-height] font-family | inherit\r\n\t        return fontStyle + \" \" + fontVariant + \" \" + fontWeight + \" \" + fontSize + \" \" + fontFamily;\r\n\t    };\r\n\t    return UiGridMetrics;\r\n\t}());\r\n\texports.UiGridMetrics = UiGridMetrics;\r\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\r\n\texports.default = UiGridMetrics;\r\n\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\r\n\t/*@ngInject*/\n\tUiGridAutoFitColumnsDirective.$inject = [\"uiGridAutoFitColumnsService\"];\r\n\tfunction UiGridAutoFitColumnsDirective(uiGridAutoFitColumnsService) {\r\n\t    return {\r\n\t        replace: true,\r\n\t        priority: 0,\r\n\t        require: '^uiGrid',\r\n\t        scope: false,\r\n\t        compile: function () {\r\n\t            return {\r\n\t                pre: function ($scope, $elm, $attrs, uiGridCtrl) {\r\n\t                    uiGridAutoFitColumnsService.initializeGrid(uiGridCtrl.grid);\r\n\t                }\r\n\t            };\r\n\t        }\r\n\t    };\r\n\t}\r\n\texports.UiGridAutoFitColumnsDirective = UiGridAutoFitColumnsDirective;\r\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// autoFitColumns.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f8b9824c89dec5bbe7eb","import * as angular from 'angular';\r\nimport { UiGridAutoFitColumnsService } from './UiGridAutoFitColumnsService';\r\nimport { UiGridAutoFitColumnsDirective } from './UiGridAutoFitColumnsDirective';\r\n\r\nexport default angular.module('ui.grid.autoFitColumns', ['ui.grid'])\r\n    .service('uiGridAutoFitColumnsService', UiGridAutoFitColumnsService)\r\n    .directive('uiGridAutoFitColumns', UiGridAutoFitColumnsDirective)\r\n    .name;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"angular\"\n// module id = 1\n// module chunks = 0","import * as get from 'lodash/object/get';\r\nimport Measurer from './Measurer';\r\nimport UiGridMetrics from './UiGridMetrics';\r\n\r\ninterface IExtendedColumnDef extends uiGrid.IColumnDef {\r\n    enableColumnAutoFit: boolean;\r\n    stretch: boolean;\r\n    extraWidth: number;\r\n}\r\n\r\ninterface IExtendedGridColumn extends uiGrid.IGridColumn {\r\n    colDef: IExtendedColumnDef;\r\n}\r\n\r\ninterface IExtendedGridInstance extends uiGrid.IGridInstance {\r\n    options: IExtendedGridOptions;\r\n}\r\n\r\ninterface IExtendedGridOptions extends uiGrid.IGridOptions {\r\n    enableColumnAutoFit: boolean;\r\n}\r\n\r\ninterface IAnyFilterPredicateFunc {\r\n    (value: any, firstFlag?: any, secondFlag?: any): string;\r\n}\r\n\r\nexport class UiGridAutoFitColumnsService {\r\n    private gridMetrics: UiGridMetrics;\r\n\r\n    /*@ngInject*/\r\n    constructor (private $q: angular.IQService, private $filter: angular.IFilterService) {\r\n        this.gridMetrics = new UiGridMetrics();\r\n    }\r\n\r\n    initializeGrid(grid: IExtendedGridInstance) {\r\n        grid.registerColumnBuilder(this.colAutoFitColumnBuilder.bind(this));\r\n        grid.registerColumnsProcessor(this.columnsProcessor.bind(this), 60);\r\n\r\n        UiGridAutoFitColumnsService.defaultGridOptions(grid.options);\r\n    }\r\n\r\n    static defaultGridOptions(gridOptions: IExtendedGridOptions) {\r\n        // true by default\r\n        gridOptions.enableColumnAutoFit = gridOptions.enableColumnAutoFit !== false;\r\n    }\r\n\r\n    private getFilterIfExists<T>(filterName): any {\r\n        try {\r\n            return this.$filter<IAnyFilterPredicateFunc>(filterName);\r\n        } catch (e) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private getFilteredValue(value: string, cellFilter: string) {\r\n        if (cellFilter && cellFilter !== '') {\r\n            const filter = this.getFilterIfExists(cellFilter);\r\n            if (filter) {\r\n                value = filter(value);\r\n            } else {\r\n                // https://regex101.com/r/rC5eR5/2\r\n                const re = /([^:]*):([^:]*):?([\\s\\S]+)?/;\r\n                let matches;\r\n                if ((matches = re.exec(cellFilter)) !== null) {\r\n                    value = this.$filter<IAnyFilterPredicateFunc>(matches[1])(value, matches[2], matches[3]);\r\n                }\r\n            }\r\n        }\r\n        return value;\r\n    }\r\n\r\n    colAutoFitColumnBuilder(colDef: IExtendedColumnDef, col: IExtendedGridColumn, gridOptions: IExtendedGridOptions) {\r\n        const promises = [];\r\n\r\n        if (colDef.enableColumnAutoFit === undefined) {\r\n            //TODO: make it as col.isResizable()\r\n            if (UiGridAutoFitColumnsService.isResizable(colDef)) {\r\n                colDef.enableColumnAutoFit = gridOptions.enableColumnAutoFit;\r\n            } else {\r\n                colDef.enableColumnAutoFit = false;\r\n            }\r\n        }\r\n\r\n        return this.$q.all(promises);\r\n    }\r\n\r\n    static isResizable(colDef: IExtendedColumnDef): boolean {\r\n        return !colDef.hasOwnProperty('width');\r\n    }\r\n\r\n    columnsProcessor(renderedColumnsToProcess?: Array<IExtendedGridColumn>, rows?: Array<uiGrid.IGridRow>) {\r\n        if (!rows.length) {\r\n            return renderedColumnsToProcess;\r\n        }\r\n        // TODO: respect existing colDef options\r\n        // if (col.colDef.enableColumnAutoFitting === false) return;\r\n\r\n        let optimalWidths: {\r\n            [name: string]: number\r\n        } = {};\r\n\r\n\r\n        renderedColumnsToProcess.forEach(column => {\r\n\r\n            if (column.colDef.enableColumnAutoFit) {\r\n                const columnKey = column.field || column.name;\r\n                // Extra width to consider besides the text, such as from an image\r\n                const extraWidth = column.colDef.extraWidth || 0;\r\n                optimalWidths[columnKey] = Measurer.measureRoundedTextWidth(column.displayName, this.gridMetrics.getHeaderFont()) + this.gridMetrics.getHeaderButtonsWidth();\r\n\r\n                rows.forEach((row) => {\r\n                    let cellText = get(row.entity, columnKey);\r\n\r\n                    if (!!column.colDef.cellFilter) {\r\n                        cellText = this.getFilteredValue(cellText, column.colDef.cellFilter);\r\n                    }\r\n\r\n                    const currentCellWidth = Measurer.measureRoundedTextWidth(cellText, this.gridMetrics.getCellFont()) + extraWidth;\r\n                    const optimalCellWidth = currentCellWidth > 300 ? 300 : currentCellWidth;\r\n\r\n                    if (optimalCellWidth > optimalWidths[columnKey]) {\r\n                        optimalWidths[columnKey] = optimalCellWidth;\r\n                    }\r\n                });\r\n\r\n                if (column.colDef.stretch) {\r\n                    // If we want a column to stretch so that the grid can fill its parent container\r\n                    column.colDef.minWidth = optimalWidths[columnKey] + this.gridMetrics.getPadding() + this.gridMetrics.getBorder();\r\n                    column.colDef.width = '*';\r\n                } else {\r\n                    column.colDef.width = optimalWidths[columnKey] + this.gridMetrics.getPadding() + this.gridMetrics.getBorder();\r\n                }\r\n                column.updateColumnDef(column.colDef, false);\r\n            }\r\n        });\r\n        return renderedColumnsToProcess;\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/UiGridAutoFitColumnsService.ts","var baseGet = require('../internal/baseGet'),\n    toPath = require('../internal/toPath');\n\n/**\n * Gets the property value at `path` of `object`. If the resolved value is\n * `undefined` the `defaultValue` is used in its place.\n *\n * @static\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, toPath(path), (path + ''));\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/object/get.js\n// module id = 3\n// module chunks = 0","var toObject = require('./toObject');\n\n/**\n * The base implementation of `get` without support for string paths\n * and default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path of the property to get.\n * @param {string} [pathKey] The key representation of path.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path, pathKey) {\n  if (object == null) {\n    return;\n  }\n  if (pathKey !== undefined && pathKey in toObject(object)) {\n    path = [pathKey];\n  }\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[path[index++]];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/internal/baseGet.js\n// module id = 4\n// module chunks = 0","var isObject = require('../lang/isObject');\n\n/**\n * Converts `value` to an object if it's not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Object} Returns the object.\n */\nfunction toObject(value) {\n  return isObject(value) ? value : Object(value);\n}\n\nmodule.exports = toObject;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/internal/toObject.js\n// module id = 5\n// module chunks = 0","/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/lang/isObject.js\n// module id = 6\n// module chunks = 0","var baseToString = require('./baseToString'),\n    isArray = require('../lang/isArray');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `value` to property path array if it's not one.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {Array} Returns the property path array.\n */\nfunction toPath(value) {\n  if (isArray(value)) {\n    return value;\n  }\n  var result = [];\n  baseToString(value).replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n}\n\nmodule.exports = toPath;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/internal/toPath.js\n// module id = 7\n// module chunks = 0","/**\n * Converts `value` to a string if it's not one. An empty string is returned\n * for `null` or `undefined` values.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  return value == null ? '' : (value + '');\n}\n\nmodule.exports = baseToString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/internal/baseToString.js\n// module id = 8\n// module chunks = 0","var getNative = require('../internal/getNative'),\n    isLength = require('../internal/isLength'),\n    isObjectLike = require('../internal/isObjectLike');\n\n/** `Object#toString` result references. */\nvar arrayTag = '[object Array]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/* Native method references for those with the same name as other `lodash` methods. */\nvar nativeIsArray = getNative(Array, 'isArray');\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(function() { return arguments; }());\n * // => false\n */\nvar isArray = nativeIsArray || function(value) {\n  return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\n};\n\nmodule.exports = isArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/lang/isArray.js\n// module id = 9\n// module chunks = 0","var isNative = require('../lang/isNative');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = object == null ? undefined : object[key];\n  return isNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/internal/getNative.js\n// module id = 10\n// module chunks = 0","var isFunction = require('./isFunction'),\n    isObjectLike = require('../internal/isObjectLike');\n\n/** Used to detect host constructors (Safari > 5). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar fnToString = Function.prototype.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * Checks if `value` is a native function.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\n * @example\n *\n * _.isNative(Array.prototype.push);\n * // => true\n *\n * _.isNative(_);\n * // => false\n */\nfunction isNative(value) {\n  if (value == null) {\n    return false;\n  }\n  if (isFunction(value)) {\n    return reIsNative.test(fnToString.call(value));\n  }\n  return isObjectLike(value) && reIsHostCtor.test(value);\n}\n\nmodule.exports = isNative;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/lang/isNative.js\n// module id = 11\n// module chunks = 0","var isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]';\n\n/** Used for native method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in older versions of Chrome and Safari which return 'function' for regexes\n  // and Safari 8 which returns 'object' for typed array constructors.\n  return isObject(value) && objToString.call(value) == funcTag;\n}\n\nmodule.exports = isFunction;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/lang/isFunction.js\n// module id = 12\n// module chunks = 0","/**\n * Checks if `value` is object-like.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/internal/isObjectLike.js\n// module id = 13\n// module chunks = 0","/**\n * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\n * of an array-like value.\n */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n */\nfunction isLength(value) {\n  return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/internal/isLength.js\n// module id = 14\n// module chunks = 0","export class Measurer {\r\n    private static canvas: HTMLCanvasElement;\r\n\r\n    static measureTextWidth(text: string, font: string): number{\r\n        const canvas = Measurer.canvas || (Measurer.canvas = document.createElement('canvas'));\r\n        const context = canvas.getContext('2d');\r\n        context.font = font;\r\n        const metrics = context.measureText(text);\r\n        return metrics.width;\r\n    }\r\n\r\n    static measureRoundedTextWidth(text: string, font: string): number{\r\n        const width = Measurer.measureTextWidth(text, font);\r\n        return Math.floor(width) + 1;\r\n    }\r\n}\r\n\r\nexport default Measurer;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Measurer.ts","export class UiGridMetrics {\r\n    private headerFont: string;\r\n    private cellFont: string;\r\n    private padding: number;\r\n    private border: number;\r\n\r\n    getHeaderFont(){\r\n        if(this.headerFont){\r\n            return this.headerFont;\r\n        }\r\n\r\n        let header = document.querySelector('.ui-grid-header-cell .ui-grid-cell-contents');\r\n\r\n        if(!header) {\r\n            throw new Error('not found: .ui-grid-header-cell .ui-grid-cell-contents');\r\n        }\r\n\r\n        let headerStyle = getComputedStyle(header);\r\n        this.headerFont = UiGridMetrics.getFontStringFrom(headerStyle);\r\n        return this.headerFont;\r\n    }\r\n\r\n    getCellFont(){\r\n        if(this.cellFont){\r\n            return this.cellFont;\r\n        }\r\n\r\n        let cell = document.querySelector('.ui-grid-cell > .ui-grid-cell-contents');\r\n\r\n        if(!cell){\r\n            let element = document.createElement('div');\r\n            element.className = 'ui-grid-cell-contents';\r\n            element.style.cssFloat = 'left';\r\n            angular.element(document.body).append(element);\r\n            let cellStyle = getComputedStyle(element);\r\n            this.cellFont = UiGridMetrics.getFontStringFrom(cellStyle);\r\n            angular.element(element).remove();\r\n            return this.cellFont;\r\n        }\r\n\r\n        let cellStyle = getComputedStyle(cell);\r\n        this.cellFont = UiGridMetrics.getFontStringFrom(cellStyle);\r\n        return this.cellFont;\r\n    }\r\n\r\n    getPadding(){\r\n        if(this.padding){\r\n            return this.padding;\r\n        }\r\n\r\n        let header = document.querySelector('.ui-grid-header-cell .ui-grid-cell-contents');\r\n\r\n        if(!header) {\r\n            throw new Error('not found: .ui-grid-header-cell .ui-grid-cell-contents');\r\n        }\r\n\r\n        let {paddingLeft, paddingRight} = getComputedStyle(header);\r\n        this.padding = parseInt(paddingLeft) + parseInt(paddingRight);\r\n        return this.padding;\r\n    }\r\n\r\n    getBorder(){\r\n        if(this.border){\r\n            return this.border;\r\n        }\r\n\r\n        let header = document.querySelector('.ui-grid-header-cell');\r\n\r\n        if(!header) {\r\n            throw new Error('not found: .ui-grid-header-cell');\r\n        }\r\n\r\n        let {borderRightWidth} = getComputedStyle(header);\r\n        this.border = parseInt(borderRightWidth);\r\n        return this.border;\r\n    }\r\n\r\n    getHeaderButtonsWidth(){\r\n        // TODO: lets be more precise\r\n        const HEADER_BUTTONS_WIDTH = 25;\r\n        return HEADER_BUTTONS_WIDTH;\r\n    }\r\n\r\n    private static getFontStringFrom({fontStyle, fontVariant, fontWeight, fontSize, fontFamily}: CSSStyleDeclaration): string {\r\n        // in FF cssStyle.font may be '' so we need to collect it manually\r\n        // font: [font-style||font-variant||font-weight] font-size [/line-height] font-family | inherit\r\n        return `${fontStyle} ${fontVariant} ${fontWeight} ${fontSize} ${fontFamily}`;\r\n    }\r\n\r\n}\r\n\r\nexport default UiGridMetrics;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/UiGridMetrics.ts","import { UiGridAutoFitColumnsService } from './UiGridAutoFitColumnsService';\r\n\r\n/*@ngInject*/\r\nexport function UiGridAutoFitColumnsDirective (uiGridAutoFitColumnsService: UiGridAutoFitColumnsService) {\r\n    return {\r\n        replace: true,\r\n        priority: 0,\r\n        require: '^uiGrid',\r\n        scope: false,\r\n        compile: function () {\r\n            return {\r\n                pre: function ($scope, $elm, $attrs, uiGridCtrl) {\r\n                    uiGridAutoFitColumnsService.initializeGrid(uiGridCtrl.grid);\r\n                }\r\n            };\r\n        }\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/UiGridAutoFitColumnsDirective.ts"],"sourceRoot":""}